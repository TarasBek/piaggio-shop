<div class="main">
 
  <div class="filter-section" aria-label="Parts selector">
    <div class="filter-container">
      <h2>Find parts by model</h2>
      <div class="filters">
        <div class="filter-control">
          <label for="brandSelect">Brand</label>
          <p-select
            inputId="brandSelect"
            [options]="brandOptions"
            optionLabel="label"
            optionValue="value"
            [(ngModel)]="selectedBrand"
            placeholder="Choose a brand"
            [editable]="true"
            appendTo="body"
          ></p-select>
        </div>
        <div class="filter-control">
          <label for="modelSelect">Model</label>
          <p-select
            inputId="modelSelect"
            [options]="modelOptions"
            optionLabel="label"
            optionValue="value"
            [(ngModel)]="selectedModel"
            placeholder="Choose a model"
            [editable]="true"
            appendTo="body"
          ></p-select>
        </div>
        <div class="filter-control">
          <label for="yearSelect">Year</label>
          <p-select
            inputId="yearSelect"
            [options]="yearOptions"
            optionLabel="label"
            optionValue="value"
            [(ngModel)]="selectedYear"
            placeholder="Choose a year"
            [editable]="true"
            appendTo="body"
          ></p-select>
        </div>
        <div class="filter-button">
          <ve-button label="Find parts" type="primary"></ve-button>
        </div>
      </div>
    </div>
  </div>

  <section class="home-section popular-categories">
    <div class="section-header">
      <div>
        <p class="section-eyebrow">Popular categories</p>
        <h2>Browse by category</h2>
      </div>
      <a class="section-link" href="#">View all</a>
    </div>
    <p-carousel
      [value]="popularCategories"
      [numVisible]="4"
      [numScroll]="1"
      [responsiveOptions]="categoryCarouselOptions"
      [circular]="true"
    >
      <ng-template pTemplate="item" let-category>
        <article class="category-card">
          <img
            [src]="category.image"
            [alt]="category.title"
            loading="lazy"
            appFallbackImg="category"
          />
          <div class="category-info">
            <h3>{{ category.title }}</h3>
            <p>{{ category.description }}</p>
          </div>
        </article>
      </ng-template>
    </p-carousel>
  </section>

  <section class="home-section popular-products">
    <div class="section-header">
      <div>
        <p class="section-eyebrow">Popular products</p>
        <h2>This season's trends</h2>
      </div>
      <a class="section-link" href="#">View all</a>
    </div>
    <p-carousel
      [value]="popularProducts"
      [numVisible]="3"
      [numScroll]="1"
      [responsiveOptions]="productCarouselOptions"
      [circular]="true"
    >
      <ng-template pTemplate="item" let-product>
        <article class="product-card">
          <button class="favorite-button" type="button" aria-label="Add to favorites">
            <svg class="icon-heart" viewBox="0 0 24 24" aria-hidden="true">
              <path
                d="M3.2 5.8a4.3 4.3 0 0 1 6.1 0L12 8.5l2.7-2.7a4.3 4.3 0 1 1 6.1 6.1L12 20.7 3.2 11.9a4.3 4.3 0 0 1 0-6.1Z"
                fill="none"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </button>
          <img
            [src]="product.image"
            [alt]="product.name"
            loading="lazy"
            appFallbackImg="product"
          />
          <div class="product-info">
            <h3>{{ product.name }}</h3>
            <p class="price">{{ product.price | currency:'UAH':'symbol-narrow':'1.0-0' }}</p>
            <span class="availability">{{ product.availability }}</span>
          </div>
          <ve-button label="Add to cart" type="primary"></ve-button>
        </article>
      </ng-template>
    </p-carousel>
  </section>

  <section class="home-section benefits">
    @for (benefit of benefits; track benefit.title) {
      <div class="benefit-card">
        <span class="benefit-icon" aria-hidden="true">{{ benefit.icon }}</span>
        <div>
          <h3>{{ benefit.title }}</h3>
          <p>{{ benefit.description }}</p>
        </div>
      </div>
    }
  </section>

  <section class="home-section blog-section">
    <div class="section-header">
      <div>
        <p class="section-eyebrow">Blog</p>
        <h2>Stories from the workshop</h2>
      </div>
      <a class="section-link" href="#">Read all</a>
    </div>
    <p-carousel
      [value]="blogPosts"
      [numVisible]="3"
      [numScroll]="1"
      [responsiveOptions]="blogCarouselOptions"
      [circular]="true"
    >
      <ng-template pTemplate="item" let-post>
        <article class="blog-card">
          <img
            [src]="post.image"
            [alt]="post.title"
            loading="lazy"
            appFallbackImg="blog"
          />
          <div class="blog-body">
            <span class="blog-date">{{ post.date }}</span>
            <h3>{{ post.title }}</h3>
            <p>{{ post.excerpt }}</p>
            <ve-button [label]="post.cta" type="outline"></ve-button>
          </div>
        </article>
      </ng-template>
    </p-carousel>
  </section>
   <section class="hero" aria-label="Main promo">
    <p-carousel
      [value]="heroSlides"
      [numVisible]="1"
      [numScroll]="1"
      [autoplayInterval]="6000"
      [circular]="true"
      [showNavigators]="false"
      [showIndicators]="true"
    >
      <ng-template pTemplate="item" let-slide>
        <div class="hero-slide" [style.background-image]="'url(' + slide.image + ')'">
          <div class="hero-overlay"></div>
          <div class="hero-content">
            <p class="hero-eyebrow">{{ slide.eyebrow }}</p>
            <h1>{{ slide.title }}</h1>
            <p class="hero-description">{{ slide.description }}</p>
            <ve-button [label]="slide.ctaLabel" type="primary"></ve-button>
          </div>
        </div>
      </ng-template>
    </p-carousel>
  </section>

</div>
